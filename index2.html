<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cricket game</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
<h1>cricket game</h1>
     <div class="icons">
     
<button class="choice-button"  onclick="
console.log(`You Have Choosed Bat`);
 generateChoice();
resultMsg = getResult('BAT', computerChoice);
 alertMsg('BAT' , computerChoice , resultMsg);">
 <img src="images/bat.png" alt="bat button"  class="choice-button">
</button>

<button class="choice-button"  onclick="
console.log('You Have Choosed BALL');
 computerChoice;
 generateChoice();
resultMsg = getResult('BALL', computerChoice);
 alertMsg('BALL' , computerChoice , resultMsg);">
 <img src="images/ball.png" alt="bat button"  class="choice-image">
</button>

<button class="choice-button" onclick="
console.log('You Have Choosed STUMP');
 computerChoice;
 generateChoice();
resultMsg = getResult('STUMP', computerChoice);
 alertMsg('STUMP' , computerChoice , resultMsg);">
 <img src="images/stump.png" alt="bat button"  class="choice-image">
</button>

<div class="display">

 <h3 id="user-move"></h3>
 <h3 id="computer-move"></h3>
 <h3 id="result"></h3>
 <h3 id="score"></h3>

</div>


 <button class="reset" onclick="
 localStorage.clear();
 ResetScore(scoreStr);
  ">Reset</button>

     </div>
    </div>


  

    <script> 
    let scoreStr = localStorage.getItem('score');
    let score;
    ResetScore(scoreStr);
    
    function ResetScore(scoreStr) {
        score = scoreStr? JSON.parse(scoreStr) : {
       won: 0,
        lost: 0,
        tie : 0,
    }; 
      score.displayScore = function() {
        return `Game-Score: WIN:${score.won},  LOSE:${score.lost}, TIE:${score.tie}`;
       };
    
       alertMsg();
    }
    
    let computerChoice ;
    let resultMsg;

    function generateChoice(){
        let randomNumber = Math.random() * 3;
if (randomNumber > 0 && randomNumber <= 1){
     computerChoice ='BAT';
    console.log('Computer choice is Bat');

}else if(randomNumber > 1 && randomNumber <= 2)
{
     computerChoice ='BALL';
    console.log('computer Choice is ball');

}else{
     computerChoice ='STUMP'
    console.log('computer choice is stump');
}
    }

  function getResult(userMove,computerMove){
    if (userMove === 'BAT'){
        if (computerMove === 'BALL'){
            score.won++;
            return 'user won';
        }else if(computerMove === 'BAT'){
            score.tie++;
            return 'Its a Tie';
        }else if (computerMove === 'STUMP'){
            score.lost++;
            return 'computer won ';
        }
    } else if (userMove === 'BALL'){
        if (computerMove === 'BALL'){
             score.tie++;
            return `It's a Tie`;
        }else if(computerMove === 'BAT'){
              score.lost++;
            return 'Computer Won';
        }else if(computerMove === 'STUMP'){
            score.won++;
            return 'User  Won';
        }
    }else if(userMove === 'STUMP'){
        if(computerMove === 'BALL'){
              score.lost++;
            return 'computer won';
        }else if (computerMove === 'BAT'){
            score.won++;
            return 'User won';
        }else if(computerMove === 'STUMP'){
             score.tie++;
            return 'Its a Tie';
        }
    }
   }
   
   
function alertMsg(userMove , computerMove , resultMsg){

    localStorage.setItem('score',JSON.stringify(score));

    document.querySelector('#user-move').innerText  = 
    userMove ? `You have chosen: ${userMove}` : '';
    document.querySelector('#computer-move').innerText  =
    computerMove ? ` computer choice is : ${computerMove}`: '';
    document.querySelector('#result').innerText  =
    resultMsg || '';
    document.querySelector('#score').innerText  = score.displayScore();
    };

    </script>
</body>
</html>